<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HtmlElement.Net: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HtmlElement.Net
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">HtmlElement.Net Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> <b><a class="el" href="namespace_html_elements.html">HtmlElements</a></b> is .NET library complementing to <a href="https://github.com/SeleniumHQ/selenium">Selenium WebDriver</a> page object model by allowing you to create more complex and sophysticated page objects. It also provides set of standard page objects for commonly used HTML elements (links, input fields, images, frames, etc), alternative wait syntax, smart frames and some other usefull utilities. You can add it to your project by installing <a href="http://www.nuget.org/packages/HtmlElements/">HtmlElements</a> nuget package. More information can be found in <a href="http://eger-geger.github.io/Selenium.HtmlElements.Net/">API reference</a>.</p>
<h2><a class="anchor" id="autotoc_md0"></a>
Web components</h2>
<p>The main goal of <b><a class="el" href="namespace_html_elements.html">HtmlElements</a></b> library is to represent any given page or part of a page as set of smaller reusable components. Every component is a class having any number of nested components and public methods. Smaller components create a hierarchy similar to DOM with a page component at the top.</p>
<p>Assuming we would like to model a page listing nuget packages (<a href="https://www.nuget.org/packages">https://www.nuget.org/packages</a>) we could describe every package from list as a separate component and then have list of such components inside page object describing page as a whole.</p>
<div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">class </span>NugetPackageListPage {</div>
<div class="line">    </div>
<div class="line">    [FindsBy(How = How.CssSelector, Using = <span class="stringliteral">&quot;#searchBoxInput&quot;</span>), CacheLookup]</div>
<div class="line">    <span class="keyword">private</span> IWebElement _searchInput;</div>
<div class="line"> </div>
<div class="line">    [FindsBy(How = How.CssSelector, Using = <span class="stringliteral">&quot;#searchBoxSubmit&quot;</span>), CacheLookup]</div>
<div class="line">    <span class="keyword">private</span> IWebElement _searchBtn;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> IList&lt;NugetPackageItem&gt; Packages { <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> Search(String query){</div>
<div class="line">        _searchInput.EnterText(query);</div>
<div class="line">        _searchBtn.Click();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">[CacheLookup]</div>
<div class="line">[ElementLocator(How = How.CssSelector, Using = <span class="stringliteral">&quot;#searchResults li&quot;</span>)]</div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>NugetPackageItem : HtmlElement {</div>
<div class="line"> </div>
<div class="line">    [FindsBy(How = How.CssSelector, Using = <span class="stringliteral">&quot;h1&gt;a&quot;</span>), CacheLookup]</div>
<div class="line">    <span class="keyword">private</span> HtmlElement _name;</div>
<div class="line"> </div>
<div class="line">    [FindsBy(How = How.CssSelector, Using = <span class="stringliteral">&quot;article&gt;p:nth-child(2)&quot;</span>), CacheLookup]</div>
<div class="line">    <span class="keyword">private</span> HtmlElement _description;</div>
<div class="line"> </div>
<div class="line">    [FindsBy(How = How.CssSelector, Using = <span class="stringliteral">&quot;.downloads&quot;</span>), CacheLookup]</div>
<div class="line">    <span class="keyword">private</span> HtmlElement _downloads;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">public</span> String Name { </div>
<div class="line">        <span class="keyword">get</span> {</div>
<div class="line">            <span class="keywordflow">return</span> _name.Text;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> String Description {</div>
<div class="line">        <span class="keyword">get</span> {</div>
<div class="line">            <span class="keywordflow">return</span> _description.Text;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> String Downloads {</div>
<div class="line">        <span class="keyword">get</span> {</div>
<div class="line">            <span class="keywordflow">return</span> _downloads.Text;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">IWebDriver webDriver = <span class="keyword">new</span> FirefoxDriver();</div>
<div class="line"> </div>
<div class="line">IPageObjectFactory pageFactory = <span class="keyword">new</span> PageObjectFactory();</div>
<div class="line"> </div>
<div class="line">NugetPackageListPage page = pageFactory.Create&lt;NugetPackageListPage&gt;(webDriver);</div>
</div><!-- fragment --><p><a href="http://eger-geger.github.io/Selenium.HtmlElements.Net/class_html_elements_1_1_page_object_factory.html">PageObjectFactory</a> is creating and initializing page objects. It is one of the core library components since it creates and recursively initializes all page objects in a given hierarchy. Page factory can initialize fields and properties which type is derived from <em>IWebElement</em> or <em>IList&lt;IWebElement&gt;</em>. It can create (and initialize) page object of any type using default or custom constructor. It also provides few extension points.</p>
<p>Default page factory implementation wraps raw WebElements located in browser into proxy loading elements on demand and handling <em>StaleElementReferenceException</em> by reloading the underlying element. It is possible to change how proxy is being created by implementing <a href="http://eger-geger.github.io/Selenium.HtmlElements.Net/interface_html_elements_1_1_proxy_1_1_i_proxy_factory.html">IProxyFactory</a> interface and how elements are loaded by implementing <a href="http://eger-geger.github.io/Selenium.HtmlElements.Net/interface_html_elements_1_1_lazy_load_1_1_i_loader_factory.html">ILoaderFactory</a> interface. Also it is possible to change the way how new page objects are being instantiated by overriding <a href="http://eger-geger.github.io/Selenium.HtmlElements.Net/class_html_elements_1_1_abstract_page_object_factory.html#ae50af112bab9ed9f68b2df6c0be59553">CreatePageObjectInstance</a> default factory method and how page object members are being initialized by overriding <a href="http://eger-geger.github.io/Selenium.HtmlElements.Net/class_html_elements_1_1_abstract_page_object_factory.html#aa7aecd99f56e12bdf1e4ee62d84575df">CreateMemberInstance</a> method.</p>
<p>Please refer to API reference for more details.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Default locator</h2>
<p>Whenever a web component is used among multiple pages/components and WebDriver can find it with same element locator it's locator can be defined next to a component class using <code>ElementLocator</code> attribute. It can later be overriden with <code>FindsBy</code> attribute.</p>
<div class="fragment"><div class="line">[ElementLocator(How = How.ClassName, Using = <span class="stringliteral">&quot;fancy-button&quot;</span>)]</div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>FancyButton : HtmlElement {</div>
<div class="line">    </div>
<div class="line">    </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>APage {</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span> FancyButton _fancyButton;</div>
<div class="line">    </div>
<div class="line">    [FindsBy(How = How.ClassName, Using = <span class="stringliteral">&quot;another-button&quot;</span>)]</div>
<div class="line">    <span class="keyword">private</span> FancyButton _anotherFancyButton;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">private</span> IList&lt;FancyButton&gt; _allFancyButtons;</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><p>When neither of <code>ElementLocator</code> or <code>FindsBy</code> attributes are available for given field or property it will point to an element having <code>id</code> attribute equal to field or property name.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Standard HTML elements</h2>
<p>In addition to creating your custom page objects you can use set predefined components which models commonly used DOM elements. Following components can be found in <a href="http://eger-geger.github.io/Selenium.HtmlElements.Net/namespace_html_elements_1_1_elements.html">HtmlElements.Elements</a> namespace:</p>
<ul>
<li>HtmlElement</li>
<li>HtmlLink</li>
<li>HtmlImage</li>
<li>HtmlFrame</li>
<li>HtmlInput</li>
<li>HtmlCheckBox</li>
<li>HtmlSelect</li>
<li>HtmlTextArea</li>
<li>HtmlTable</li>
</ul>
<p>All of the above components are derived from <a href="http://eger-geger.github.io/Selenium.HtmlElements.Net/class_html_elements_1_1_elements_1_1_html_element.html">HtmlElement</a> which is also a good candidate to derive custom components from.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Alternative wait syntax</h2>
<p>While writing selenium tests you'll often found your self waiting until something happens in browser. It could be slow loading page, dialog which takes few seconds to show up or hide, background process which must finish until test can proceed. The simple way is to stop thread for few seconds. Reliable way is to use <em>WebDriverWait</em> or <em>DefaultWait</em> classes being part of selenium webdriver library. The convenient way is to use extension methods provided by current library. Just take a look on few examples below.</p>
<div class="fragment"><div class="line"><span class="comment">/* assuming there is a highly dynamic login button which takes some time to load */</span></div>
<div class="line"> </div>
<div class="line">[FindsBy(How = How.CssSelector, Using = <span class="stringliteral">&quot;#login&quot;</span>)]</div>
<div class="line"><span class="keyword">private</span> IWebElement _loginButton;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* wait for 10 seconds until button became displayed for and click on it */</span></div>
<div class="line">_loginButton.WaitForPresent().Click();</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* wait for 10 seconds until button became displayed and click on it or throw exception with given message */</span></div>
<div class="line">_loginButton.WaitForVisible(<span class="stringliteral">&quot;login button did not became visible&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* wait for 30 seconds until button became hidden */</span></div>
<div class="line">_loginButton.UntilHidden(TimeSpan.FromSeconds(30));</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* wait for 60 seconds until button text becames empty checking it every 5 seconds */</span></div>
<div class="line">_loginButton.WaitUntil(btn =&gt; String.IsNullOrEmpty(btn.Text), TimeSpan.FromSeconds(60), TimeSpan.FromSeconds(5));</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* click on button every 30 seconds up to five minutes until it becames hidden */</span></div>
<div class="line">_loginButton</div>
<div class="line">    .Do(btn =&gt; btn.click())</div>
<div class="line">    .For(TimeSpan.FromSeconds(300))</div>
<div class="line">    .Every(TimeSpan.FromSeconds(30))</div>
<div class="line">    .Until(btn =&gt; !btn.IsHidden());</div>
</div><!-- fragment --><p>So basically you need to say what are you waiting for ? For how long ? How often to check weather it happened ? What message should timeout exception be thrown with ?</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Smart frames</h2>
<p>Sometimes tests need to interact with HTML frames. In order to do it we need to switch wedriver context to specific frame firts and switch it back after we've done. It is exactly what <a href="http://eger-geger.github.io/Selenium.HtmlElements.Net/class_html_elements_1_1_frame_context_override.html">FrameContextOverride</a> class is desgined to do.</p>
<div class="fragment"><div class="line"><span class="comment">/* assuming there is an frame defined as following */</span></div>
<div class="line">[FindsBy(How = How.CssSelector, Using = <span class="stringliteral">&quot;iframe&quot;</span>)]</div>
<div class="line"><span class="keyword">private</span> IWebElement _frameElement;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* and IWebDriver instance is defined as &#39;webDriver&#39; */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* the following will do stuff in it and switch back */</span></div>
<div class="line"><span class="keyword">using</span> (<span class="keyword">new</span> FrameContextOverride(webDriver, _frameElement))</div>
<div class="line">{</div>
<div class="line">    _frameElement.FindElement(By.Id(<span class="stringliteral">&quot;email&quot;</span>)).SendKeys(<span class="stringliteral">&quot;joe@gmail.com&quot;</span>);</div>
<div class="line">    _frameElement.FindElement(By.Id(<span class="stringliteral">&quot;password&quot;</span>)).SendKeys(<span class="stringliteral">&quot;qwerty&quot;</span>);</div>
<div class="line">    _frameElement.FindElement(By.Id(<span class="stringliteral">&quot;signin&quot;</span>)).Click();</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="http://eger-geger.github.io/Selenium.HtmlElements.Net/class_html_elements_1_1_elements_1_1_html_frame.html">HtmlFrame</a> is another class which makes life easier when it comes to working with frames. When created by default page object factory (described above) it's wrapped search context is set to WebDriver instance instead of WebElement as it is done for other custom elements. It allows using it as a base class for custom frame page objects. Previous example could be rewritten as shown below.</p>
<div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">class </span>SignInFrame : HtmlFrame {</div>
<div class="line"> </div>
<div class="line">    [FindsBy(How = How.CssSelector, Using = <span class="stringliteral">&quot;#email&quot;</span>)]</div>
<div class="line">    <span class="keyword">private</span> IWebElement _emailField;</div>
<div class="line"> </div>
<div class="line">    [FindsBy(How = How.CssSelector, Using = <span class="stringliteral">&quot;#password&quot;</span>)]</div>
<div class="line">    <span class="keyword">private</span> IWebElement _passwordField;</div>
<div class="line"> </div>
<div class="line">    [FindsBy(How = How.CssSelector, Using = <span class="stringliteral">&quot;#signin&quot;</span>)]</div>
<div class="line">    <span class="keyword">private</span> IWebElement _signinBtn;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> SignInFrame (IWebElement webElement) : base (webElement) {}</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> SignIn(String email, String password) </div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">using</span>(<span class="keyword">new</span> FrameContextOverride(<span class="keyword">this</span>))</div>
<div class="line">        {</div>
<div class="line">            _emailField.SendKeys(email);</div>
<div class="line">            _emailField.SendKeys(password);</div>
<div class="line">            _signinBtn.Click();</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>HomePage {</div>
<div class="line">    </div>
<div class="line">    [FindsBy(How = How.CssSelector, Using = <span class="stringliteral">&quot;iframe&quot;</span>)]</div>
<div class="line">    <span class="keyword">public</span> SignInFrame { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md5"></a>
Implicit wait override</h2>
<p>There might be cases when you might want to change default implicit wait WebDriver option for specific operation and restore it back after it is done. For example you might set to 30 seconds for most cases but do not want to wait for element which you expect to be removed from DOM. You could use <a href="http://eger-geger.github.io/Selenium.HtmlElements.Net/class_html_elements_1_1_implicit_wait_override.html">ImplicitWaitOverride</a> for it's purpose.</p>
<div class="fragment"><div class="line">TimeSpan defaultImplicitWait = TimeSpan.FromSeconds(30);</div>
<div class="line"> </div>
<div class="line">TimeSpan overridenImplcitWait = TimeSpan.FromSeconds(2);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">using</span>(<span class="keyword">new</span> ImplicitWaitOverride(webDriver, defaultImplicitWait, overridenImplcitWait)){</div>
<div class="line">    loginDialog.WaitUntilHidden();</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md6"></a>
Element groups</h2>
<p>Often people writing selenium tests want to check weather some element or another exist on a page. There are two possible way of doing so: expose raw WebElements or create <em>IsXXXDisplayed</em> properties. Author deslike both and the idea itself. Newertheless people still need to do it. Element group is attempt to make it in a way which does not break encapsulation. How it works:</p>
<ol type="1">
<li>mark your private WebElement fields and properties with <a href="http://eger-geger.github.io/Selenium.HtmlElements.Net/class_html_elements_1_1_element_group_attribute.html">ElementGroupAttribute</a> providing one or multiple group names;</li>
<li>create <a href="http://eger-geger.github.io/Selenium.HtmlElements.Net/class_html_elements_1_1_element_group.html">ElementGroup</a> object in your tests specifying the name of the group you are interested in;</li>
<li>use created group to retrieve list of WebElements with matching group name from page object.</li>
</ol>
<div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">class </span>LoginPage {</div>
<div class="line"> </div>
<div class="line">    [ElementGroup(<span class="stringliteral">&quot;login_form&quot;</span>)]</div>
<div class="line">    <span class="keyword">private</span> IWebElement _loginButton;</div>
<div class="line"> </div>
<div class="line">    [ElementGroup(<span class="stringliteral">&quot;login_form&quot;</span>)]</div>
<div class="line">    <span class="keyword">private</span> IWebElement _loginInput;</div>
<div class="line"> </div>
<div class="line">    [ElementGroup(<span class="stringliteral">&quot;login_form&quot;</span>)]</div>
<div class="line">    <span class="keyword">private</span> IWebElement _passwordInput;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* and later on it test */</span></div>
<div class="line"> </div>
<div class="line">var loginPage = <span class="keyword">new</span> LoginPage();</div>
<div class="line">var loginFormElementGroup = <span class="keyword">new</span> ElementGroup(<span class="stringliteral">&quot;login_form&quot;</span>);</div>
<div class="line">IList&lt;IWebElement&gt; loginFormElements = loginFormElementGroup.GetElements(loginPage);</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
